# 2. 네트워크 연결과 구성요소

## 네트워크 연결 구분

### 1. LAN - 사용자 내부 네트워크

- Local Area Network의 약자로 홈 네트워크용과 사무실용 네트워크처럼 비교적 소규모의 네트워크를 말함.
- 먼 거리를 통신할 필요가 없어 스위치와 같이 비교적 간단한 장비로 연결된 네트워크
- 복잡하거나 대규모인 네트워크라도 직접 구축한 네트워크 범위라면 LAN이라고 부름.

### 2. MAN - 한 도시 정도를 연결하고 관리하는 네트워크

### 3. WAN - 멀리 떨어진 LAN을 연결해주는 네트워크

- Wide Area Network의 약자로 먼 거리에 있는 네트워크를 연결하기 위해 사용
- 특별한 경우가 아니면 직접 구축할 수 없는 범위의 네트워크이므로 대부분 통신사업자로부터 회선을 임대해 사용
- 자신이 소유한 땅이나 건물이 아닌 곳을 지나 원격지로 통신해야 할 때 사용하며 사용계약에 의해 비용이 부과함.



## 네트워크 회선

### 인터넷 회선

- 인터넷 접속을 위해 통신사업자와 연결하는 회선
- 가입자와 통신사업자 간에 직접 연결되는 구조가 아니라 전송 선로 공유 기술을 사용함
- Ex) 아파트 광랜은 내부 선로가 직접 연결되는 구조여서 인터넷 전용 회선처럼 보이지만 아파트에서 통신사업자까지 연결한 회선을 아파트 가입자가 공유하는 구조
- 일반 인터넷 회선의 종류
  - 광랜(이더넷) : 기가 ~ 100mbps
  - FTTH: 기가 ~ 100mbps
  - 동축 케이블 인터넷: 수백 ~ 수십 Mbps
  - xDSL(ADSL, VDSL 등): 수십~수 Mbps
- 항상 모든 사람이 최대 속도로 인터넷을 접속하는 것은 아니므로 공유 구간은 사용자 최대 속도를 보장하지 않도록 구축하는 것이 일반적.

### 전용 회선

- 가입자와 통신사업자 간에 대역폭을 보장해주는 서비스
- 인터넷 전용 회선이 아닌 일반 전용 회선은 본사-지사 연결에 주로 사용됨
- 저속: 음성 전송 기술 기반
  - 64kbps 단위로 구분되어 사용됨. 
  - 높은 속도가 필요하지 않을 때나 높은 신뢰성이 필요할 때 사용되어 왔지만 현재 이더넷 기반의 광 전송 기술이 신뢰할 정도의 수준으로 발전해 점점 사용 빈도가 줄고 있음.
  - 이 기술을 사용하려면 원격지 전송 기술로 변환할 수 있는 라우터가 필요
- 고속: 메트로 이더넷
  - 대부분 광케이블 기반의 이더넷을 사용
  - 가입자와 통신사업자 간의 접속기술은 이더넷을 사용하고 통신사업자 내부에서는 이런 개별 가입자를 묶어 통신할 수 있는 다른 고속 통신을 사용함(여러 가입자를 구분하고 가입자 트래픽을 고속으로 전송하는 것이 중요하기 때문)
- LLCF - 한쪽 링크가 다운디면 이를 감지해 반대쪽 링크도 다운시키는 기능. 전용 회선을 이더넷으로 구성할 때 회선사에서 LLCF를 설정하지 않으면 전용 회선이 한 사이트에서 다운되더라도 반대쪽 사이트에서는 회선이 그대로 살아있는 것처럼 보임.

### 인터넷 전용 회선

- 인터넷 연결 회선에 대한 통신 대역폭을 보장해주는 상품

- 가입자가 일반가정에서 사용하는 접속 기술과 달리 다른 가입자와 경쟁하지 않고 통신사업자와 가입자 간의 연결 품질을 보장해 줌

  ​


## VPN

물리적으로는 전용선이 아니지만 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술

### 통신사업자 VPN

- 타 도시나 해외 연결 전용선 비용은 매우 비쌈.
- 전용선은 사용 가능한 대역폭을 보장해주지만 가입자가 계약된 대역폭을 항상 100% 사용하는 것이 아니어서 낭비되는 비용이 큼
- 이런 비용 낭비를 줄이고 먼 거리와 연결하더라도 비용을 줄이기 위해 통신사업자가 직접 가입자를 구분할 수 있는 VPN기술을 사용해 비용을 낮추고 있음
- 여러 가입자가 하나의 망에 접속해 통신하므로 공용 회선을 함께 이용하게 되어 비용이 낮아짐.
- MPLS VPN - 여러 가입자가 하나의 MPLS 망에 접속되지만 가입자를 구분할 수 있는 기술을 적용해 전용선처럼 사용가능

### 가입자 VPN

- 일반 사용자가 VPN을 사용한다면 대부분 가입자 VPN기술.

### DWDM(파장 분할 다중화)

- 먼 거리를 통신할 때 케이블 포설 비용이 매우 많이 들고 관리가 어려운 문제를 극복하기 위해 개발되었음
- WDM기술이 나오기 전에는 하나의 광케이블에 하나의 통신만 가능함
- 통신사업자는 많은 가입자를 구분하고 높은 대역폭의 통신을 제공해야 하므로 여러 개의 케이블을 포설해야 했고 이러한 물리적인 케이블을 포설하는 데 어려움이 있었음
- WDM과 DWDM 기술은 하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만드는 동시에 많은 데이터를 전송할 수 있음
- 가입자들이 하나의 회선을 공유하므로 인터넷 속도가 느려질 수 있어 DWDM기술을 접목함



## 네트워크 구성 요소

### 네트워크 인터페이스 카드(NIC)

- 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치

- 역할

  - 직렬화

    네트워크 인터페이스 카드는 전기적 신호를 데이터 신호 형태로 또는 데이터 신호 형태를 전기적 신호 형태로 변환해줌. 외부 케이블에서는 전기 신호 형태로 데이터가 전송됨.

  - MAC주소

    네트워크 인터페이스 카드는 MAC주소를 갖고 있음. 받은 패킷의 도착지 주소가 자신의 MAC주소가 아니면 폐기하고 자신의 주소가 맞으면 시스템 내부에서 처리할 수 있도록 전달

  - 흐름 제어

    패킷 기반 네트워크에서는 다양한 통신이 하나의 채널을 이용하므로 이미 통신 중인 데이터 처리 때문에 새로운 데이터를 받지 못할 수 있음. 이런 현상으로 인한 데이터 유실 방지를 위해 데이터를 받지 못할 때는 상대방에게 통신 중지를 요청할 수 있음.

### 케이블과 커넥터

- 트위스티드 페어 케이블
- 동축 케이블
- 광 케이블

#### 이더넷 네트워크 표준

- 현재 대중화되어 있는 이더넷 표준은 기가비트 이더넷과 10기가바트 이더넷
- 일반PC와 같은 종단은 기가비트 인터넷을, 데이터 센터의 서버와 같은 종단은 기가비트나 10기가비트 이더넷을 주로 사용하고 있음.
- 1000BASE-T/10GBASE-T - 트위스티드 페어 케이블을 이용하는 기가 인터네 표준
- 1000BASE-SX/10GBASE-SR - 멀티모드 광케이블을 사용하고 비교적 짧은 거리를 보낼 수 있는 이더넷 표준
- 1000BASE-LX/10GBASE-LR - 싱글모드 광케이블을 사용하고 비교적 긴 거리를 보낼 수 있는 이더넷 표준
- 1000(속도)BASE(채널)-T(케이블 타입)

#### 케이블, 커넥터 구조

- 케이블은 물리적으로 케이블 본체, 커넥터, 트랜시버와 같은 여러 요소로 나뉨.
- 케이블 본체는 트위스티드 페어, 동축, 광케이블로 나뉘고 케이블 본체의 종류에 따라 커넥터와 트랜시버의 종류도 함께 달라짐

#### 케이블 - 트위스티드 페어 케이블

- 쉴드를 장착한 STP/FTP 케이블 - 쉴드는 내부 간섭과 외부 간섭을 막아줌
- 쉴드가 없는 UTP 케이블
- RJ-45 커넥터를 이용하고 케이블 본체와 함께 연결되어 분리할 수 없음.

#### 케이블 - 동축 케이블

- 케이블 TV와 연결할 때 사용하는 두꺼운 검정 케이블과 같은 종류
- 최근은 10G 이상의 고속 연결을 위해 트랜시버를 통합한 DAC케이블을 많이 사용하는데  이 케이블이 동축 케이블의 종류 중 하나임

#### 케이블 - 광케이블

- 광케이블은 일반적으로 다른 구리선보다 신뢰도가 높고 더 먼 거리까지 통신할 수 있음

- 높은 대역폭을 요구하거나 먼 거리를 통신해야 하는 네트워크 장비 간의 통신에 주로 사용됨

- 싱글모드

  먼 거리 통신을 지원하기 위해 케이블 굵기가 매우 가늘고 신호를 보내는 광원으로 레이저를 사용함. 레이저는 다른 빛에 비해 먼 거리를 퍼지지 않고 직진하는 성질이 있음

- 멀티모드

  비교적 굵은 케이블을 사용하며 광원으로 LED를 사용함.

  넓은 광 전송로에 여러 가지 광원이 전송됨

#### 커넥터

- 케이블의 끝부분으로 네트워크 장비나 네트워크 카드에 연결되는 부분
- 네트워크 연결 요청 시 커넥터 타입을 네트워크 담당자에게 알려주어야만 적합한 케이블을 사용할 수 있음

#### 트랜시버

- 다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾸어줌
- 최근 생산되는 대부분의 네트워크 장비와 네트워크 인터페이스 카드는 트랜시버를 지원

### 허브

- 케이블과 동일한 1계층에서 동작하는 장비.
- 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 여러 대의 장비를 연결할 목적으로 사용됨.
- 단순히 들어온 신호를 모든 포트로 내보내 네트워크에 접속된 모든 단말이 경쟁하게 되므로 전체 네트워크 성능이 줄어드는 문제가 있고 패킷이 무한 순환해 네트워크 전체를 마비시키는 루프와 같은 다양한 장애의 원인이 되어 현재 거의 사용되지 않고 있음

### 스위치

- 허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 2계층 장비.
- 허브와 스위치는 내부 동작 방식은 다르지만 여러 장비를 연결하고 케이블을 한곳으로 모아주는 역할은 같으므로 '허브'라는 용어를 공통적으로 사용함
- 허브의 역할과 통신을 중재하는 2가지 역할을 모두 포함하므로 스위칭 허브로도 불립니다.
- MAC주소를 이해할 수 있어 목적지 MAC 주소의 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보냄

### 라우터

- 3계층에서 동작하면서 먼 거리로 통신할 수 있는 프로토콜로 변환함(네트워크 주소 확인 후 경로 지정)
- 원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀티캐스트를 컨트롤하고 불분명한 주소로 통신을 시도할 경우, 이를 버림.
- 정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 패킷을 포워딩함

### 로드 밸런서

- 4계층에서 동작. 7계층에서 작동하는 로드 밸런서는 별도로 ADC라고 부름.
- 4계층 포트 주소를 확인하는 동시에 IP 주소를 변경할 수 있음. 
- 대표IP를 로드 밸런서가 갖고 로드 밸런서가 각 서버로 패킷의 목적지 IP주소를 변경해 보내줌.
- 서비스 헬스 체크 기능이나 대용량 세션 처리 기능이 있음

### 보안장비(방화벽/IPS)

- 3, 4계층 정보를 확인하고 패킷을 정책과 비교해 버리거나 포워딩함

### 기타(모뎀/공유기 등)

- 공유기 - 2계층 스위치, 3계층 라우터, 4계층 NAT와 간단한 방화벽 기능을 한곳에 모아놓은 장비
- 모뎀 - 짧은 거리를 통신하는 기술과 먼 거리를 통신할 수 있는 기술이 달라 이 기술들을 변환해 주는 장비

