# 4. 액세스 회선을 통해 인터넷의 내부로

## ADSL 기술을 이용한 액세스 회선의 구조와 동작

### 인터넷의 기본은 가정이나 회사의 LAN과 같음

- 가정이나 회사의 네트워크 규모가 커진 것이 인터넷
- 회사나 가정의 LAN이라면 중계 장치 간의 거리가 수미터에서 수백미터 정도임 -> 인터넷은 가장 가까운 전화국에만 도착하려 해도 수 키로는 될 것이고 이더넷 케이블로 연결하기 어려움
- 경로표에 등록된 경로 정보에 기초하여 중계 대상을 판단한다는 기본 동작은 같지만, 경로표에 정보를 등록하는 부분이 다름 -> 인터넷의 라우터는 경로 정보가 10만 개 이상이나 등록되어 있으며, 정보가 시시각각 변하기 때문에 경로 등록을 자동화해야 함

### 사용자와 인터넷을 연결하는 액세스 회선

- 스위칭 허브와 라우터로 패킷을 중계하면 패킷은 목적지 서버를 향해 진행함. 그리고 인터넷 접속용 라우터를 경유하여 인터넷으로 나감
- 인터넷 접속용 라우터는 액세스 회선의 규칙에 따라 패킷 송신 동작을 실행함
- 액세스 회선은 인터넷과 가정이나 회사의 LAN을 연결하는 통신 회선을 말함. 대표적으로 ADSL이 있음

### ADSL 모델에서 패킷을 셀로 분할함

1. 클라이언트에서 패킷에 IP 헤더를 붙임
2. MAC 헤더를 붙여서 보냄
3. 인터넷 접속용 라우터에서 패킷 수신
4. 인터넷 접속용 라우터에서 IP 패킷 추출
5. PPP, PPPoE, MAC의 각 헤더를 붙여서 ADSL 모뎀에 보냄
6. ADSL 모뎀에서 패킷 수신
7. ATM 셀로 분할
8. 전기 신호로 변환하여 송출
9. DSLAM(전화국용 집합 모뎀)에서 전기 신호 수신
10. ATM 셀에 되돌려 송신
11. BAS(광대역 액세스 서버) 에서 ATM 셀 수신
12. 패킷의 형태로 되돌림
13. PPP 패킷 추출
14. 터널링용 헤더를 붙여 송신
15. 라우터(터널링용)에서 터널링의 패킷 수신
16. IP 패킷 추출
17. 인터넷 내부를 향해 송신

- 셀 - 맨 앞부분에 헤더(5바이트)를 갖고 있고, 그 뒤에 데이터(48바이트)가 이어지는 작은 디지털 데이터의 덩어리로, ATM이라는 통신 기술에 사용함
- 셀을 사용하는 상태로 두면 다른 설비와 매끄럽게 연대되어 개발 투자나 설비 투자를 줄일 수 있음

### ADSL은 변조 방식으로 셀을 신호화함

- LAN의 경우 사각형 신호를 이용해 0과 1을 나타내는 간단한 방식으로 디지털 데이터를 신호로 변환했지만, ADSL은 좀 더 복잡한 방법을 사용
- 사각형 신호는 파형이 뭉개지기 쉽고 거리가 떨어진 경우에 오류를 일으키기 쉬움. 또한 사각형 신호에는 낮은 주파수에서 높은 주파수까지 넓은 범위의 주파수가 포함되어 있음 -> 신호의 주파수가 높아지면 주위에 방사되는 잡음의 양이 증가하므로 주파수 폭이 넓을 경우에는 잡음을 제어하기가 어려워짐
- ADSL 모뎀은 완만한 파형(정현파)을 합성한 신호에 0과 1의 비트값을 대응시키는 기술을 사용하였는데, 이를 **변조 기술**이라고 함
- ADSL은 진폭 변조(ASK) 방식과 위상 변조(PSK)라는 방식을 결합한 직교 진폭 변소(QAM)라는 방식을 사용함
- ASK - 신호의 진폭의 크기에 따라 0과 1을 대응시킴, 단계를 늘리면 대응시키는 비트 수를 늘릴 수 있음. 예를 들어 4단계로 하면 가장 작은 진폭을 00, 두번째를 01, 세번째를 10, 네번째를 11 이런식으로..
- PSK - 파는 일주기만에 원래 모습으로 되돌아가므로 원을 한 바퀴 돌고 돌아오는 동작에 이것을 적용하여 각도를 나타내는데 이를 위상이라 함. 이 위상에 0과 1을 대응시키는 것이 위상 변조
- QAM - ASK와 PSK를 결합한 것으로, 신호의 진폭과 위상에 각각 비트를 대응시켜 한 개의 파에 대응시키는 비트 수를 늘려 속도를 높인것

### ADSL은 파를 많이 사용하여 고속화를 실현함

- 주파수가 서로 다른 파를 혼합하면 파를 합성할 수 있으며, 특정 주파수의 파만 통과시키는 필터 회로를 사용하면 주파수마다 파를 분리할 수 있음 -> 대응시키는 비트 수가 많아짐
- ADSL은 이 성질을 이용하여 다수의 파에 비트값을 대응시켜 고속화를 함(4.3125kHz씩 주파수를 다르게 한 수백 개의 파를 사용하여 각각의 파에 직교 진폭 변조에 의해 비트값을 대응시킴)
- 다운로드에 사용하는 높은 주파수의 파는 감쇠가 크고 잡음의 영향을 받기 쉬우므로 적은 비트 수만 지원하거나 전혀 사용할 수 없는 경유가 있음 -> 거리가 멀어질수록 이러한 경향이 강해지기 때문에 전화국에서 멀어지면 속도가 떨어짐
- 잡음이나 감쇠 등의 회선 특성은 전화 회선마다 전부 다르고, 시간에 따라 변화하기 때문에 ADSL에는 회선의 상태를 조사하여 사용할 파의 수나 각 파에 대응하는 비트 수를 판단하는 구조도 마련되어 있음 -> 트레이닝

### 스플리터의 역할

- ADSL 모뎀에서 전기 신호로 변환된 셀은 다음에 스플리터라는 장치에 들어감
- ADSL의 신호는 전화의 음성 신호와 섞여서 전화 회선에 함께 흘러감
- 스플리터가 일을 하는 것은 전화 회선에서 신호가 들어온 경우에 전화와 ADSL의 신호를 나누는 역할을 함
- 전화 회선에서 들어오는 신호는 전화 신호와 ADSL의 신호 둘이 다 혼합되어 있으므로 이것을 그대로 전화기에 흘리면 ADSL의 신호가 잡음이 되어 전화 음성을 듣기 어려워짐
- 스플리터는 전화기측에 흐르는 높은 주파수의 신호를 차단하여 전화기에는 전화의 신호만 흐르고, ADSL모뎀으로 향하는 신호는 그대로 흐르게 함
- ​

